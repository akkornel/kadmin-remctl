                    User-Visible kadmin-remctl Changes

kadmin-remctl 1.8 (2007-08-08)

    Increase the timeouts in the Expect calls while performing the actual
    operation, since the propagation to Active Directory can take some
    time.

    When stripping error messages for reporting to the user, don't stop
    stripping at newlines.

    Add a newline after a remctl library error when reporting such errors
    to the user in passwd_change.

kadmin-remctl 1.7 (2007-08-06)

    Add the $K5_HOST configuration variable to kadmin-backend which, if
    set, tells kadmin-backend to contact the given kadmin server instead
    of the default for the local realm.

    Tweak kadmin-backend slightly so that it runs properly with Perl
    5.6.1 without warnings.

kadmin-remctl 1.6 (2007-07-13)

    Use the correct configuration key when reading the LDIF file to find
    the DN for deleting instances and extract just the DN rather than
    keeping the "dn: " prefix.

    Active Directory expects passwords to be encoded in UCS-2LE.  Change
    the password provided to the LDIF template to match those expectations
    and move the modules needed for talking to Active Directory to
    require statements from use statements so that those Perl modules
    aren't required unless Active Directory integration is desired.

    When listing instances, add a wildcard after the instance pattern
    rather than letting kadmin append the local realm so that we can use
    the same code on development servers that may be serving different
    realms than the local realm.

    Correctly handle errors on account creation in kadmin-backend.  It was
    treating all Kerberos errors as success.

    Kerberos v4 examine output faking was prepending "retstr: " even to
    error messages.  Drop "retstr: " when there is an error.

    Standardize across the non-instance functions of kadmin-backend the
    ordering of error and retstr messages and return retstr for the case
    of creating an account that already exists instead of just error.

kadmin-remctl 1.5 (2007-07-11)

    Add support for propagation of instance creation and deletion into
    Active Directory.

    When faking Kerberos v4 examine output in kadmin-backend, strip the
    time zone information from the Kerberos v5 timestamps.  Kerberos v4
    kadmin examine didn't include time zone information.

    Fix the passwd_change configuration documentation to use the correct
    krb5.conf parameters.

kadmin-remctl 1.4 (2007-06-28)

    Add support in passwd_change for reading configuration from the system
    krb5.conf and only use the compiled-in values as defaults.

    Properly handle K4 output faking when the principal doesn't exist.

kadmin-remctl 1.3 (2007-06-11)

    MIT Kerberos kadmin doesn't return a useful exit status in conjunction
    with -q.  It always exits 0, even if the operation failed.  Adjust for
    this by inspecting its output instead.

    Add support for faking K4 kadmin examine output based on the K5
    getprinc output, for backwards compatibility for Stanford Registry
    integration.

kadmin-remctl 1.2 (2007-06-05)

    Support disabling all Kerberos v4 actions in kadmin-backend by setting
    one of the Kerberos v4 configuration variables to undef.

    Handle CRs in the output of commands run via Expect in kadmin-backend.

kadmin-remctl 1.1 (2007-05-31)

    Add support for creating and manipulating account instances to
    kadmin-backend using a separate set of commands.

    Add support in kadmin-backend for loading configuration from an
    external configuration file, which can override the defaults set at
    the top of the script.

    Add support for reserved principals in kadmin-backend (principals that
    the script will refuse to act on).

    For password change and reset, always return both an error: and a
    retstr: line to match the behavior of the old Kerberos v4 interface.
    Strip out the kpasswd advice to see its man page, since that text will
    mostly not be useful to our users.

    On password reset, have kadmin-backend exit with a different exit
    status if the user does not have permission to change passwords for
    that account and use that exit status as a trigger in passwd_change to
    break out of the loop and not keep prompting for a new password.

    Truncate error messages from kpasswd after the first sentence and
    replace newlines with spaces to put them on a single line.  kpasswd is
    more verbose about its errors than kadmin.

kadmin-remctl 1.0 (2007-03-21)

    First public release.  Many defaults are hard-coded into source code
    and synchronization with an AFS kaserver realm is done using
    Stanford-specific external programs.
